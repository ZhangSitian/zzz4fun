网关的职责：
    性能：
        API高可用
        负载均衡
        容错机制
    安全：
        登录
        权限身份认证
        脱敏
        流量清洗
        后端签名（保证全链路可信调用）
        黑名单（非法调用的限制）
    日志：
        日志记录（spainid,traceid）
    缓存：
        数据缓存
    监控：
        记录请求响应数据
        api耗时分析
        性能监控
    限流：
        流量控制
        错峰流控
        熔断
    灰度：
        线上灰度部署
        可以减小风险
    路由：
        动态路由规则
    测试：
        压力测试
        ABtest
        调试路由


流水号
    日期yyMMdd（6）+ 机房编号（2）+ 机器编号（4） + 系统编号（3） + uuid（33 - 16 =17）= 32

base64

公共请求定义
    head
        请求时间
        签名
        token
        客户端版本号
        屏幕大小
        手机型号
        来源类型
        mac地址
        操作系统名称
        操作系统版本号
        longitude
        latitude

        ip地址
        业务链接
        流水号
        系统接收时间
        系统应答时间
    data




公共请求校验


废弃超时请求
请求验签
防重放


限流

验证token（授权）

用户信息查询

限频次

业务处理

公共响应定义
    head
        retCode 返回码
        retMsg 返回消息
        requestTime 请求时间
        responseTime 响应时间
        sign 签名
    data

响应签名

响应base64







